{# people/_form_payment_plan.html #}
<form
  hx-post="{% url 'payment_plan_new_partial' person.pk %}"
  hx-target="#payment-plan-form"
  hx-swap="innerHTML"
  class="form-grid"
>
  {% csrf_token %}

  <style>
    .pp-grid { display:grid; grid-template-columns: repeat(3, minmax(180px,1fr)); gap:10px; }
    @media (max-width: 900px) { .pp-grid { grid-template-columns: 1fr 1fr; } }
    @media (max-width: 600px) { .pp-grid { grid-template-columns: 1fr; } }
    .pp-actions { margin-top:10px; display:flex; gap:8px; }
    label span { display:block; font-size:12px; color:#64748b; margin-bottom:4px; }
    input, select { width:100%; }
  </style>

  <div class="pp-grid">
    <label>
      <span>Invoice (optional)</span>
      {{ form.invoice }}
    </label>

    <label>
      <span>Start date</span>
      {{ form.start_date }}
    </label>

    <label>
      <span>Frequency</span>
      {{ form.frequency }}
    </label>

    <label>
      <span># of payments</span>
      {{ form.n_payments }}
    </label>

    <label>
      <span>Installment amount</span>
      {{ form.installment_amount }}
    </label>
  </div>

  <div class="pp-actions">
    <button type="submit" class="btn primary">Create Plan</button>
    <button type="button" class="btn"
            onclick="document.getElementById('payment-plan-form').innerHTML=''">
      Cancel
    </button>
  </div>
</form>
